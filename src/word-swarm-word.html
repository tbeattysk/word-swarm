<link rel="import" href="../bower_components/polymer/polymer.html">

<dom-module id="word-swarm-word">
  <template>
    <style>
        :host{
            position: absolute;
            cursor: -webkit-grab;
             -webkit-user-drag: element;
            top:33px;
            left: 44px;
            user-select: none;
        }
        .box {
          position: relative;
          display: inline-block;
          margin: 0px;
          padding: 4px;
          border-radius: 5px;
          border-radius: 5px;
          backface-visibility: hidden;
          -webkit-font-smoothing: subpixel-antialiased;
          -webkit-transition: all 0.6s cubic-bezier(0.165, 0.84, 0.44, 1);
          transition: all 0.6s cubic-bezier(0.165, 0.84, 0.44, 1);
          opacity: 1;
        }
    </style>

    <div  id="box" class="box">
            <slot></slot>
      <div>
  </template>

  <script>
    Polymer({
      is: 'word-swarm-word',
      properties:{
          name:{
              type: Object,
          }
      },
      listeners:{
          'tap':'tap',
          'dragstart': 'dragStart',
          'drag':'drag',
          'dragend':'dragEnd',
          'mouseenter':'mouseEnter',
          'mouseout':'mouseOut',
          'mousedown':'mouseDown',
          'mouseup':'mouseUp'
      },
      ready:function(){
          console.log(this.name);
      },
      tap:function(){
      },
      dragStart:function(e){
          let startPos = this.getBoundingClientRect()
          this.xOffset = e.clientX - startPos.left;
          this.yOffset = e.clientY - startPos.top;
          this.$.box.style.transform= "scale(0, 0)";
          this.style["cursor"]= "-webkit-grabbing";

      },
      mouseEnter:function(){
        this.$.box.style["background-color"]= "#fff";
        this.$.box.style["box-shadow"]= "0 1px 2px rgba(0, 0, 0, 0.1)";
        this.$.box.style["z-index"]= "2";
        this.$.box.style.transform= "scale(1.1, 1.1)";
          // transform: scale(1.1, 1.1);
      },
      mouseOut:function(){
        this.$.box.style["-webkit-transition"]= "all 0.6s";
        this.$.box.style["transition"]= "all 0.6s";
        this.$.box.style["background-color"]= "transparent"
        this.$.box.style["box-shadow"]= "0 0 0 rgba(0, 0, 0, 0)";
        this.$.box.style.transform= "scale(1, 1)";
        this.$.box.style["z-index"]= "0";
      },
      mouseDown: function(){
        this.$.box.style["box-shadow"]= "0 2px 3px rgba(0, 0, 0, 0.1)";
         this.$.box.style["cursor"]= "-webkit-grabbing";
        this.$.box.style.transform= "scale(1.2, 1.2)";
      },
      mouseUp: function(){
        this.$.box.style["cursor"]= "-webkit-grab";
        this.$.box.style["-webkit-transition"]= "all 0.6s";
        this.$.box.style["transition"]= "all 0.6s";
        this.$.box.style["box-shadow"]= "0 1px 2px rgba(0, 0, 0, 0.1)";
        this.$.box.style.transform= "scale(1.1, 1.1)";
      },
      drag:function(e){
        e.preventDefault();
        if(e.clientX != 0){
          this.style.left = e.clientX - this.xOffset + "px"
          this.style.top = e.clientY - this.yOffset + "px"
        }
      },
      dragEnd:function(e){
        //this.style.transform = "translate("+ (e.screenX - this.xOffset) + "px, "+ (e.screenY - this.yOffset) + "px)"
        this.$.box.style["cursor"]= "-webkit-grab";
        this.$.box.style.transform= "scale(1.1, 1.1)";
        //this.$.box.style["-webkit-transition"]= "all 0.6s cubic-bezier(0.165, 0.84, 0.44, 1)";
        //this.$.box.style["transition"]= "all 0.6s cubic-bezier(0.165, 0.84, 0.44, 1)";
        
      },
      
    });

  </script>
</dom-module>
